<!DOCTYPE html>
<html lang="vi">
  <head>
    <!-- Tải thư viện p5.js từ CDN (chỉ cần 1 lần) -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.8/lib/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.8/lib/addons/p5.sound.min.js"></script>

    <!-- Performance optimization meta tags -->
    <meta http-equiv="Page-Enter" content="blendTrans(Duration=0)" />
    <meta http-equiv="Page-Exit" content="blendTrans(Duration=0)" />

    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>DEKAY - Climate Change</title>

    <!-- Tải CSS và Fonts -->
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://db.onlinewebfonts.com/c/040a782d6538dc859645532c525f9b4c?family=VCR+OSD+Mono"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="fonts\AmarilloUSAF.ttf" />
    <link rel="stylesheet" href="https://use.typekit.net/tip0ldr.css" />
  </head>

  <body>
    <header class="site-header">
      <div class="header-content">
        <div class="logo-container">
          <img src="Logo DeKay.png" alt="DeKay Logo" class="dekay-logo" />
        </div>
      </div>
    </header>

    <main class="main-content">
      <!-- Quote Section -->
      <div class="quote-container">
        <div class="quote-text">
          "WE ARE FACING A MAN-MADE DISASTER ON A GLOBAL SCALE. OUR GREATEST
          THREAT IN THOUSANDS OF YEARS.<br />
          <span class="climate-change-red">CLIMATE CHANGE.</span>"
        </div>
        <div class="quote-attribution">-Sir David Attenborough</div>
      </div>

      <div class="new-section">
        <div class="top-row">
          <div class="section-number" data-goal="8.1">
            <div class="digit-container">
              <span class="digit" id="digit1">0</span>
            </div>
            <div class="decimal-point">.</div>
            <div class="digit-container">
              <span class="digit" id="digit2">0</span>
            </div>
          </div>
          <div class="title-container">
            <h3 class="section-title">
              MILLION DEATHS GLOBALLY IN 2021 CAUSED BY
              <strong>AIR POLLUTION</strong>
            </h3>
            <a
              href="https://www.healthdata.org/news-events/newsroom/news-releases/air-pollution-accounted-81-million-deaths-globally-2021-becoming?"
              class="learn-more-link"
              target="_blank"
            >
              → Learn more
            </a>
          </div>
        </div>
        <p class="section-paragraph">
          Climate change is not a distant or natural crisis, but one driven by
          human activity particularly industrial pollution and unsustainable
          practices for years. The significancy showed by climate action being
          one of
          <strong
            ><a
              href="https://sdgs.un.org/goals/goal13"
              target="_blank"
              class="sdg-link"
              >the 17 Sustainable Development Goals of the United Nation</a
            ></strong
          >. Both the SDG and the quote underscores a shared message: climate
          change is happening now, and it is our responsibility to
          <strong>stop it</strong>.
        </p>
        <p class="section-extra">
          TURN OFF THE SMOKE, <br />
          TURN ON THE FUTURE.
        </p>
        <p class="section-call-to-action">
          To turn on the future, let's go through the flow of smoke and have a
          deeper look into the story...
        </p>
      </div>
    </main>

    <!-- Container cho Sketch 1 -->
    <div id="sketch-mold-container" class="sketch-container">
      <div class="artwork-container">
        <div id="p5-canvas-container"></div>
        <div class="artwork-overlay">
          <p class="artwork-description">
            In contrast to the bustling rhythm of life,
             industrial smoke quietly seeps into the Earth,
              clinging to the sky and leaving red stains like unhealed wounds.
               Spreading like a virus, it invades the air and weakens 
               the ecosystem. With a click, the ground appears as torn
                skin streaked with lightning, both scar and disaster,
                 a warning of what lies ahead. It reminds us of looming dangers, 
                 urging humanity to face them before they silently persist.
          </p>
          <div class="artwork-title">
            <span class="title-line-1">act I: The</span>
            <span class="title-line-2">Spread</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Container cho Sketch 2 -->
    <div id="sketch-centipede-container" class="sketch-container">
      <div class="artwork-container">
        <div id="p5-centipede-canvas"></div>
        <div class="artwork-overlay">
          <p class="artwork-description">
            And there, clinging to the very smokestack of this destruction,
             is the perpetrator, disguised as a victim. A skeletal centipede,
              stark white against the choking darkness, represents humanity itself,
               fastened to the industrial machine it created. It crawls not upwards 
               towards enlightenment, but downwards, a slow, deliberate descent into 
               the abyss of its own making,  tracing paths of poison through the blood-red atmosphere.
               The creature gnaws at the world, oblivious that the very smoke it exhales from the factory
                is corroding its own fragile, bony form, a final stark warning before it too is consumed by the red ruin.
          </p>
          <div class="artwork-title">
            <span class="title-line-1">act II: The</span>
            <span class="title-line-2">Pillar</span>
          </div>
        </div>
      </div>
    </div>

    <div id="sketch-dekay-container" class="sketch-container">
      <div class="artwork-container">
        <div id="p5-dekay-canvas"></div>
        <div class="artwork-overlay">
          <p class="artwork-description">
            The heart of the factory, where gears are clanking, spinning, engines moves in rhythm like heartbeat, stores a huge brain of great inventions. However, it must be protected from the smoke, causing it to be shielded by a gas mask. However, blinded by the pride, it keeps producing more infrastructures, buildings, engines,... along with the smoke. More and more smoke poured out. The air thickened, the mask tightened, and slowly the machine began to suffocate by the poison of its own making.



          </p>
          <div class="artwork-title">
            <span class="title-line-1">act III: The</span>
            <span class="title-line-2">Factory</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Script cho hiệu ứng số đếm -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const numberContainer = document.querySelector(".section-number");
        const digit1 = document.getElementById("digit1");
        const digit2 = document.getElementById("digit2");
        const numbersUp = "98765432109876543210";
        const numbersDown = "01234567890123456789";
        digit1.innerHTML = numbersUp
          .split("")
          .map((n) => `<div>${n}</div>`)
          .join("");
        digit2.innerHTML = numbersDown
          .split("")
          .map((n) => `<div>${n}</div>`)
          .join("");
        const startCounter = () => {
          const goal = numberContainer.dataset.goal;
          const goalParts = goal.split(".");
          const goal1 = parseInt(goalParts[0]); // 8
          const goal2 = parseInt(goalParts[1]); // 1
          digit1.parentElement.classList.add("running");
          digit2.parentElement.classList.add("running");
          setTimeout(() => {
            digit1.parentElement.classList.remove("running");
            digit2.parentElement.classList.remove("running");
            const digitHeight = digit1.querySelector("div").clientHeight;
            const finalPos1 = -(
              numbersUp.lastIndexOf(goal1.toString()) * digitHeight
            );
            const finalPos2 = -(
              numbersDown.indexOf(goal2.toString(), 1) * digitHeight
            );
            digit1.style.transform = `translateY(${finalPos1}px)`;
            digit2.style.transform = `translateY(${finalPos2}px)`;
          }, 2000);
        };
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                startCounter();
                observer.unobserve(numberContainer);
              }
            });
          },
          { threshold: 0.5 }
        );
        observer.observe(numberContainer);
      });
    </script>

    <!-- Tải các file sketch -->
    <script src="sketch1.js"></script>
    <script src="sound1.js"></script>
    <script src="sound2.js"></script>
    <script src="sketch2.js"></script>
    <script src="sketch3.js"></script>

    <!-- Performance monitoring -->
    <script src="performance-monitor.js"></script>

    <!-- Khởi tạo các sketch p5.js -->
    <!-- Note: sketch2 is already initialized in sketch2.js -->
    <!-- Add other sketches here if needed -->
    <!-- new p5(sketch1, 'p5-canvas-container'); -->
    <!-- new p5(sketch3, 'p5-dekay-canvas'); -->
    <script>
      // SỬA LỖI: Dùng đúng tên hàm 'sketch1' và 'sketch2'
    </script>

    <footer class="site-footer">
      <p class="footer-paragraph">
        We do not need a mask as a shield, as a cover or an escape; we need to
        value our breath with a solution from the root of every conscious
        decision.
      </p>
      <p class="footer-extra">
        TURN OFF THE SMOKE, <br />
        TURN ON THE FUTURE.
      </p>
      <div class="title-wrapper">
        <h1 class="main-title">DEKAY</h1>
        <div class="student-info-container">
          <div class="student-column">
            <div class="student-name">Bui Ngoc Kieu Anh</div>
            <div class="student-id">s3929315</div>
          </div>
          <div class="student-column">
            <div class="student-name" id="student2">Huynh Tran Nam Giang</div>
            <div class="student-id" id="studentid2">s3907650</div>
          </div>
          <div class="student-column">
            <div class="student-name" id="student3">Vuong Man Nghi</div>
            <div class="student-id" id="studentid3">s3977938</div>
          </div>
        </div>
      </div>
    </footer>

    <!-- School Information at bottom -->
    <div class="bottom-school-info">
      <p>
        <strong>Digital Media Specialisation 1</strong><br />
        RMIT University Vietnam, Saigon South Campus, School of Communication
        and Design, Digital Media Program
      </p>
    </div>
  </body>
</html>
